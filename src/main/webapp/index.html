<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Example</title>
    <script async src="https://unpkg.com/es-module-shims@1.8.0/dist/es-module-shims.js"></script>

    <script type="importmap">
        {
          "imports": {
            "three": "https://unpkg.com/three@0.156.1/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.156.1/examples/jsm/"
          }
        }
    </script>
</head>
<body>
<h1>WebSocket Example</h1>
<div id="output"></div>
<script type="module" src="/test.js"></script>

<script>
    const SOCKET_PORT = 7000
    const socket = new WebSocket(`ws://localhost:${SOCKET_PORT}/socket`);

    socket.onmessage = (event) => {
        const output = document.getElementById("output");
        output.innerHTML = "<p>" + event.data + "</p>";
    };

    socket.onopen = () => {
        socket.send("Hello, Server!");
    };

    socket.onclose = () => {
        console.log("WebSocket closed.");
    };
</script>
</body>
</html>
